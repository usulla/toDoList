(this["webpackJsonpmy-todolist"]=this["webpackJsonpmy-todolist"]||[]).push([[0],{106:function(e,t,n){e.exports=n(121)},111:function(e,t,n){},121:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(10),i=n.n(r),c=(n(111),n(32)),o=n(71),s=n(72),u=n(30),m=n(89),d=n(90),f=n(43),E=[{id:Date.now(),title:"\u0421\u043f\u0438\u0441\u043e\u043a \u0434\u0435\u043b",items:[{text:"\u041a\u0443\u043f\u0438\u0442\u044c \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u044b",status:!1,key:Date.now()}]}],p=l.a.createContext(E),v=n(46),y=(n(112),n(73)),O=n.n(y),S=n(38),b=n(168),g=n(167),k=n(123),h=n(166),I=n(170),w=n(169),j=n(163),L=n(74),T=n.n(L),x=n(160),C=Object(x.a)((function(e){return{menu:{zIndex:1}}})),D=function(e){var t=e.deleteList,n=e.renameList,a=(e.idList,C()),r=l.a.useRef(null),i=l.a.useState(!1),c=Object(S.a)(i,2),o=c[0],s=c[1],u=function(){s((function(e){return!e}))};return l.a.createElement("div",null,l.a.createElement(j.a,{ref:r,onClick:u},l.a.createElement(T.a,null)),l.a.createElement(h.a,{className:a.menu,open:o,anchorEl:r.current,placement:"bottom-end",transition:!0},(function(e){var a=e.TransitionProps;return l.a.createElement(g.a,a,l.a.createElement(k.a,null,l.a.createElement(b.a,{onClickAway:u},l.a.createElement(w.a,{onClose:u,autoFocusItem:o},l.a.createElement(I.a,{onClick:function(){u(),n("")}},"Rename list"),l.a.createElement(I.a,{onClick:function(){t()}},"Delete list"),l.a.createElement(I.a,{onClick:u},"Logout")))))})))},_=n(177),N=n(56),M=n(79),J=n.n(M);function F(){var e=Object(f.a)(["\n  display:flex;\n  justify-content:space-between;\n  align-items:center;\n  margin-bottom:10px;\n"]);return F=function(){return e},e}var B=v.a.div(F()),A=function(e){var t=e.title,n=e.deleteList,a=e.saveTitleList,r=l.a.useState(t),i=Object(S.a)(r,2),c=i[0],o=i[1],s=l.a.createRef();return l.a.createElement(B,null,0!==c.trim().length&&l.a.createElement(N.a,{variant:"h6",component:"h2",gutterBottom:!0},c),0===c.trim().length&&l.a.createElement(l.a.Fragment,null,l.a.createElement(_.a,{style:{marginBottom:"20px"},label:"Title",inputRef:s,id:"outlined-size-small",size:"small"}),l.a.createElement(j.a,{onClick:function(e){o(s.current.value),a(s.current.value),e.preventDefault()}},l.a.createElement(J.a,null))),l.a.createElement(D,{deleteList:n,renameList:o}))},R=n(61),z=n.n(R),P=n(54),W=n(83),q=n.n(W),K=n(81),$=n.n(K),G=n(80),H=n.n(G),Q={display:"flex",justifyContent:"space-between",alignItems:"center"},U=function(e){var t=e.item,n=function(){return l.a.createElement(p.Consumer,null,(function(e){return t.status?l.a.createElement($.a,{style:{color:"green"},onClick:function(){return e.completeItem(e.list.id,t.key)}}):l.a.createElement(H.a,{onClick:function(){return e.completeItem(e.list.id,t.key)}})}))};return l.a.createElement(P.a,{as:"li",style:Q,className:t.status?z.a.disabled:null},l.a.createElement(n,null),l.a.createElement("span",{className:z.a.text},t.text),l.a.createElement(p.Consumer,null,(function(e){return l.a.createElement(q.a,{onClick:function(){return e.deleteItem(e.list.id,t.key)}})})))},V=n(87),X=function(){var e=function(){return l.a.createElement(p.Consumer,null,(function(e){return e.list.items.map((function(e){return l.a.createElement(U,{item:e,key:e.key})}))}))};return l.a.createElement(V.a,{as:"ul",className:"todo-list"},l.a.createElement(e,null))},Y=n(88),Z=n(51),ee=n(62),te=n(52),ne=n(171),ae=n(172),le=n(173),re=function(e){var t=e.lists,n=e.title,a=e.idList,r=e.updateListsState,i=l.a.createRef();return l.a.createElement(ne.a,{className:O.a.card},l.a.createElement(ae.a,null,l.a.createElement(A,{title:n,deleteList:function(){var e=t.filter((function(e){return e.id!==a}));r(e),localStorage.setItem("TODO_ITEMS",JSON.stringify(e))},saveTitleList:function(e){var n=t.map((function(t){return t.id===a?Object(c.a)({},t,{title:e}):t}));r(n),localStorage.setItem("TODO_ITEMS",JSON.stringify(n))}}),l.a.createElement(Y.a,{onSubmit:function(e){return function(e,n){if(n.preventDefault(),""!==e.current.value){var l={text:e.current.value,status:!1,key:Date.now()},i=t.map((function(e){return e.id===a?Object(c.a)({},e,{items:e.items.concat(l)}):e}));r(i),setTimeout((function(){localStorage.setItem("TODO_ITEMS",JSON.stringify(i))}),1e3),e.current.value=""}}(i,e)}},l.a.createElement(Z.a,{controlId:"formAddItem"},l.a.createElement(ee.a,{className:"mb-3"},l.a.createElement(te.a,{ref:i,placeholder:"enter task"}),l.a.createElement(ee.a.Append,null,l.a.createElement(le.a,{type:"submit",variant:"contained",color:"primary"},"Add"))))),l.a.createElement(X,null)))},ie=n(178),ce=n(84),oe=n.n(ce),se=n(124),ue=n(176),me=n(125),de=n(174),fe=n(175),Ee=n(85),pe=n.n(Ee),ve=n(86),ye=n.n(ve),Oe=Object(x.a)({list:{width:250},fullList:{width:"auto"},menuButton:{margin:"20px"}}),Se=function(e){var t=e.addList,n=Oe(),a=l.a.useState(!1),r=Object(S.a)(a,2),i=r[0],c=r[1],o=[{id:Date.now(),title:"Add list",action:function(){t()}}],s=function(e){("keydown"!==e.type||"Tab"!==e.key&&"Shift"!==e.key)&&c((function(e){return!e}))};return l.a.createElement(l.a.Fragment,null,l.a.createElement(j.a,{className:n.menuButton,color:"inherit","aria-label":"open drawer",onClick:s,edge:"start"},l.a.createElement(oe.a,null)),l.a.createElement(ie.a,{anchor:"left",open:i},l.a.createElement("div",{className:n.list,role:"presentation",onClick:s,onKeyDown:s},l.a.createElement(se.a,null,o.map((function(e,t){return l.a.createElement(me.a,{button:!0,key:e.id},l.a.createElement(de.a,null,t%2===0?l.a.createElement(pe.a,null):l.a.createElement(ye.a,null)),l.a.createElement(fe.a,{primary:e.title,onClick:e.action}))}))),l.a.createElement(ue.a,null))))};function be(){var e=Object(f.a)(["\n  display: flex;\n  justify-content: center;\n  flex-direction: row;\n  flex-wrap:wrap;\n"]);return be=function(){return e},e}function ge(){var e=Object(f.a)(["\n  color:#000000;\n  text-align:center;\n"]);return ge=function(){return e},e}var ke=v.a.h1(ge()),he=v.a.section(be()),Ie=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={lists:[]},a.addList=a.addList.bind(Object(u.a)(a)),a.updateListsState=a.updateListsState.bind(Object(u.a)(a)),a.deleteItem=a.deleteItem.bind(Object(u.a)(a)),a.completeItem=a.completeItem.bind(Object(u.a)(a)),a}return Object(s.a)(n,[{key:"updateListsState",value:function(e){this.setState((function(t){return{lists:e}}))}},{key:"componentDidMount",value:function(){this.getFromStorage();var e=[{id:Date.now(),title:"\u0421\u043f\u0438\u0441\u043e\u043a \u0434\u0435\u043b",items:[{text:"\u041a\u0443\u043f\u0438\u0442\u044c \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u044b",status:!1,key:Date.now()}]}],t=localStorage.getItem("TODO_ITEMS")?JSON.parse(localStorage.getItem("TODO_ITEMS")):e;this.setState({lists:t})}},{key:"getFromStorage",value:function(){var e=localStorage.getItem("TODO_ITEMS");return e?JSON.parse(e):[]}},{key:"addList",value:function(){var e={id:Date.now(),title:"",items:[]};this.setState((function(t){return{lists:t.lists.concat(e)}}))}},{key:"deleteItem",value:function(e,t){var n=this.state.lists.map((function(n){return n.id===e?Object(c.a)({},n,{items:n.items.filter((function(e){return e.key!==t}))}):n}));this.setState({lists:n}),localStorage.setItem("TODO_ITEMS",JSON.stringify(n))}},{key:"completeItem",value:function(e,t){var n=this.state.lists.map((function(n){return n.id===e?Object(c.a)({},n,{items:n.items.map((function(e){return e.key===t?Object(c.a)({},e,{status:!e.status}):e}))}):n}));this.setState({lists:n}),localStorage.setItem("TODO_ITEMS",JSON.stringify(n))}},{key:"render",value:function(){var e=this,t=this.state.lists;return l.a.createElement(l.a.Fragment,null,l.a.createElement(Se,{addList:this.addList}),l.a.createElement(ke,null,"My happy list"),l.a.createElement(he,null,t.map((function(t){return l.a.createElement(p.Provider,{key:t.id,value:{list:t,deleteItem:e.deleteItem,completeItem:e.completeItem}},l.a.createElement(re,{idList:t.id,lists:e.state.lists,title:t.title,updateListsState:e.updateListsState}))}))))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(l.a.Fragment,null,l.a.createElement(Ie,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},61:function(e,t,n){e.exports={disabled:"styles_disabled__1ljcO",text:"styles_text__wcnSq"}},73:function(e,t,n){e.exports={card:"styles_card__Cu_at"}}},[[106,1,2]]]);
//# sourceMappingURL=main.93fe57eb.chunk.js.map